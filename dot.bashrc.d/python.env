# vi: ai et ts=4 sw=4 sts=4 expandtab fs=shell

PATH=$(echo $PATH | tr ':' '\n' | grep -v -e '^$' | grep -v -e 'Python' | tr '\n' ':')

if [[ -d "/c/Python37" ]]; then
    export PATH
    PATH=${PATH}:${HOME}/.local/bin
    PATH=${PATH}:$(cygpath --unix ${APPDATA}/Python/Python37/Scripts)
    PATH=${PATH}:/c/Python37/Scripts
    PATH=${PATH}:/c/Python37
    export PYTHON
    PYTHON="py -3"
fi

if [[ -d "${HOME}/scoop/apps/python/current" ]]; then
    export PATH
    PATH=${PATH}:${HOME}/.local/bin
    PATH=${PATH}:$(cygpath --unix ${APPDATA}/Python/Python37/Scripts)
    PATH=${PATH}:${HOME}/scoop/apps/python/current/Scripts
    PATH=${PATH}:${HOME}/scoop/apps/python/current
    export PYTHON
    PYTHON=python3
fi

if ! which "${PYTHON}" >/dev/null 2>&1; then
    return
fi

export PYTHONIOENCODING
PYTHONIOENCODING=utf-8

export PIPENV_VENV_IN_PROJECT
PIPENV_VENV_IN_PROJECT=true

echo 'from see import see' > ${HOME}/.pythonrc.py
export PYTHONSTARTUP
PYTHONSTARTUP="$HOME/.pythonrc.py"
